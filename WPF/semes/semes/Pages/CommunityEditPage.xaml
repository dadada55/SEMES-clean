<Page x:Class="semes.Pages.CommunityEditPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Title="CommunityEditPage">

    <Page.Resources>
        <!-- 하이테크 블루 그라데이션 배경 -->
        <LinearGradientBrush x:Key="MainBackground" StartPoint="0,0" EndPoint="1,1">
            <GradientStop Color="#1976D2" Offset="0"/>
            <GradientStop Color="#2196F3" Offset="0.5"/>
            <GradientStop Color="#0288D1" Offset="1"/>
        </LinearGradientBrush>

        <!-- 카드 그라데이션 -->
        <LinearGradientBrush x:Key="CardGradient" StartPoint="0,0" EndPoint="0,1">
            <GradientStop Color="#FFFFFF" Offset="0"/>
            <GradientStop Color="#F7F9FC" Offset="1"/>
        </LinearGradientBrush>

        <!-- 글래스모피즘 효과 -->
        <LinearGradientBrush x:Key="GlassEffect" StartPoint="0,0" EndPoint="0,1">
            <GradientStop Color="#30FFFFFF" Offset="0"/>
            <GradientStop Color="#10FFFFFF" Offset="1"/>
        </LinearGradientBrush>

        <!-- 모던 텍스트박스 -->
        <Style x:Key="TechTextBox" TargetType="TextBox">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TextBox">
                        <Grid>
                            <!-- 배경 효과 -->
                            <Border Background="#FFFFFF" 
                                    CornerRadius="15" 
                                    Opacity="0.95"/>

                            <!-- 테두리 그라데이션 -->
                            <Border CornerRadius="15" 
                                    BorderThickness="2">
                                <Border.BorderBrush>
                                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                        <GradientStop Color="#1976D2" Offset="0"/>
                                        <GradientStop Color="#2196F3" Offset="0.5"/>
                                        <GradientStop Color="#0288D1" Offset="1"/>
                                    </LinearGradientBrush>
                                </Border.BorderBrush>
                            </Border>

                            <!-- 내용 -->
                            <ScrollViewer x:Name="PART_ContentHost" 
                                          Margin="20,15"
                                          VerticalScrollBarVisibility="Auto"
                                          HorizontalScrollBarVisibility="Disabled"/>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsFocused" Value="True">
                                <Setter Property="Effect">
                                    <Setter.Value>
                                        <DropShadowEffect Color="#2196F3" BlurRadius="10" ShadowDepth="0" Opacity="0.3"/>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Setter Property="Foreground" Value="#333"/>
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="FontFamily" Value="Segoe UI, Arial"/>
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect Color="#1976D2" BlurRadius="15" ShadowDepth="5" Opacity="0.3"/>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Primary 버튼 스타일 -->
        <Style x:Key="PrimaryButton" TargetType="Button">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="MainBorder" 
                                CornerRadius="25"
                                Padding="25,12"
                                MinWidth="150"
                                Height="46">
                            <Border.Background>
                                <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                    <GradientStop Color="#1976D2" Offset="0"/>
                                    <GradientStop Color="#2196F3" Offset="0.5"/>
                                    <GradientStop Color="#0288D1" Offset="1"/>
                                </LinearGradientBrush>
                            </Border.Background>
                            <Border.Effect>
                                <DropShadowEffect Color="#1976D2" BlurRadius="20" ShadowDepth="0" Opacity="0.6"/>
                            </Border.Effect>
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="MainBorder" Property="Effect">
                                    <Setter.Value>
                                        <DropShadowEffect Color="#1976D2" BlurRadius="25" ShadowDepth="0" Opacity="0.8"/>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontSize" Value="15"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Cursor" Value="Hand"/>
        </Style>

        <!-- Secondary 버튼 스타일 -->
        <Style x:Key="SecondaryButton" TargetType="Button">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="Border" 
                                CornerRadius="25"
                                BorderThickness="2"
                                Background="White"
                                Padding="25,12"
                                MinWidth="150"
                                Height="46">
                            <Border.BorderBrush>
                                <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                    <GradientStop Color="#1976D2" Offset="0"/>
                                    <GradientStop Color="#2196F3" Offset="0.5"/>
                                    <GradientStop Color="#0288D1" Offset="1"/>
                                </LinearGradientBrush>
                            </Border.BorderBrush>
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="Border" Property="Background">
                                    <Setter.Value>
                                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1" Opacity="0.1">
                                            <GradientStop Color="#1976D2" Offset="0"/>
                                            <GradientStop Color="#2196F3" Offset="0.5"/>
                                            <GradientStop Color="#0288D1" Offset="1"/>
                                        </LinearGradientBrush>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Setter Property="Foreground" Value="#1976D2"/>
            <Setter Property="FontSize" Value="15"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Cursor" Value="Hand"/>
        </Style>
    </Page.Resources>

    <Grid Background="{StaticResource MainBackground}">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- 상단 헤더 -->
        <Border Grid.Row="0" 
                Background="{StaticResource GlassEffect}" 
                Padding="40,30" 
                BorderThickness="0,0,0,1">
            <Border.BorderBrush>
                <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                    <GradientStop Color="#30FFFFFF" Offset="0"/>
                    <GradientStop Color="#10FFFFFF" Offset="1"/>
                </LinearGradientBrush>
            </Border.BorderBrush>

            <StackPanel>
                <StackPanel Orientation="Horizontal" Margin="0,0,0,15">
                    <!-- 반도체 칩 아이콘 -->
                    <Border Background="#FFFFFF" 
                            CornerRadius="50" 
                            Width="50" 
                            Height="50" 
                            Margin="0,0,20,0">
                        <Border.Effect>
                            <DropShadowEffect Color="#1976D2" BlurRadius="15" ShadowDepth="3" Opacity="0.5"/>
                        </Border.Effect>
                        <Grid>
                            <!-- CPU 칩 모양 -->
                            <Rectangle Width="30" Height="30" Fill="#1976D2" RadiusX="3" RadiusY="3"/>
                            <Rectangle Width="18" Height="18" Fill="White" RadiusX="2" RadiusY="2"/>
                            <Rectangle Width="6" Height="2" Fill="#1976D2" HorizontalAlignment="Left" VerticalAlignment="Center" Margin="10,0,0,0"/>
                            <Rectangle Width="6" Height="2" Fill="#1976D2" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,0,10,0"/>
                            <Rectangle Width="2" Height="6" Fill="#1976D2" HorizontalAlignment="Center" VerticalAlignment="Top" Margin="0,10,0,0"/>
                            <Rectangle Width="2" Height="6" Fill="#1976D2" HorizontalAlignment="Center" VerticalAlignment="Bottom" Margin="0,0,0,10"/>
                        </Grid>
                    </Border>

                    <StackPanel VerticalAlignment="Center">
                        <TextBlock Text="게시글 수정" 
                                   FontSize="32" 
                                   FontWeight="Bold" 
                                   Foreground="White">
                            <TextBlock.Effect>
                                <DropShadowEffect Color="#1976D2" BlurRadius="10" ShadowDepth="2" Opacity="0.5"/>
                            </TextBlock.Effect>
                        </TextBlock>
                        <TextBlock Text="SEMES 아산 사업장" 
                                   FontSize="16" 
                                   Foreground="#E3F2FD" 
                                   Margin="0,5,0,0"/>
                    </StackPanel>
                </StackPanel>
            </StackPanel>
        </Border>

        <!-- 메인 편집 영역 -->
        <ScrollViewer Grid.Row="1" 
                      VerticalScrollBarVisibility="Auto" 
                      Padding="40"
                      Background="Transparent">

            <!-- 편집 카드 -->
            <Border Background="{StaticResource CardGradient}" 
                    CornerRadius="20" 
                    Padding="50">
                <Border.Effect>
                    <DropShadowEffect Color="#1976D2" BlurRadius="30" ShadowDepth="10" Opacity="0.3"/>
                </Border.Effect>

                <StackPanel>
                    <!-- 제목 섹션 -->
                    <StackPanel Margin="0,0,0,40">
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,15">
                            <Border Background="{StaticResource MainBackground}" 
                                    CornerRadius="25" 
                                    Padding="12,8" 
                                    Margin="0,0,15,0">
                                <Border.Effect>
                                    <DropShadowEffect Color="#1976D2" BlurRadius="10" ShadowDepth="0" Opacity="0.3"/>
                                </Border.Effect>
                                <Path Fill="White" 
                                      Data="M5 4v3h5.5v12h3V7H19V4z"
                                      Stretch="Uniform"
                                      Width="16"
                                      Height="16"/>
                            </Border>
                            <TextBlock Text="제목" 
                                       FontSize="22" 
                                       FontWeight="Bold" 
                                       Foreground="#333"
                                       VerticalAlignment="Center"/>
                            <TextBlock Text="*" 
                                       FontSize="20" 
                                       Foreground="#D32F2F" 
                                       Margin="5,0,0,0"
                                       VerticalAlignment="Center"/>
                        </StackPanel>

                        <TextBox x:Name="txtTitle"
                                 Style="{StaticResource TechTextBox}"
                                 Height="60"
                                 AcceptsReturn="True"
                                 TextWrapping="Wrap"/>
                    </StackPanel>

                    <!-- 내용 섹션 -->
                    <StackPanel Margin="0,0,0,50">
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,15">
                            <Border Background="{StaticResource MainBackground}" 
                                    CornerRadius="25" 
                                    Padding="12,8" 
                                    Margin="0,0,15,0">
                                <Border.Effect>
                                    <DropShadowEffect Color="#1976D2" BlurRadius="10" ShadowDepth="0" Opacity="0.3"/>
                                </Border.Effect>
                                <!-- 내용 아이콘 -->
                                <Path Fill="White" 
                                      Data="M3 3h18v2H3zm0 4h18v2H3zm0 4h18v2H3zm0 4h18v2H3z"
                                      Stretch="Uniform"
                                      Width="16"
                                      Height="16"/>
                            </Border>
                            <TextBlock Text="내용" 
                                       FontSize="22" 
                                       FontWeight="Bold" 
                                       Foreground="#333"
                                       VerticalAlignment="Center"/>
                            <TextBlock Text="*" 
                                       FontSize="20" 
                                       Foreground="#D32F2F" 
                                       Margin="5,0,0,0"
                                       VerticalAlignment="Center"/>
                        </StackPanel>

                        <TextBox x:Name="txtContent"
                                 Style="{StaticResource TechTextBox}"
                                 Height="250"
                                 TextWrapping="Wrap"
                                 AcceptsReturn="True"
                                 VerticalContentAlignment="Top"/>
                    </StackPanel>

                    <!-- 버튼 영역 -->
                    <StackPanel Orientation="Horizontal" 
                                HorizontalAlignment="Center"
                                Margin="0,30,0,0">
                        <Button Style="{StaticResource SecondaryButton}"
                                Click="Cancel_Click"
                                Margin="0,0,30,0">
                            <StackPanel Orientation="Horizontal">
                                <!-- Cancel 아이콘 -->
                                <Path Fill="#1976D2" 
                                      Data="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"
                                      Stretch="Uniform"
                                      Width="18"
                                      Height="18"
                                      Margin="0,0,10,0"/>
                                <TextBlock Text="취소"/>
                            </StackPanel>
                        </Button>

                        <Button Style="{StaticResource PrimaryButton}"
                                Click="Save_Click">
                            <StackPanel Orientation="Horizontal">
                                <!-- Save 아이콘 -->
                                <Path Fill="White" 
                                      Data="M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"
                                      Stretch="Uniform"
                                      Width="18"
                                      Height="18"
                                      Margin="0,0,10,0"/>
                                <TextBlock Text="저장"/>
                            </StackPanel>
                        </Button>
                    </StackPanel>
                </StackPanel>
            </Border>
        </ScrollViewer>
    </Grid>
</Page>