<Page x:Class="semes.Pages.CommunityDetailPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
      xmlns:converters="clr-namespace:semes.Converters"
      Title="CommunityDetailPage">

    <Page.Resources>
        <converters:AuthorVisibilityConverter x:Key="AuthorVisibilityConverter"/>
    </Page.Resources>


    <Grid>
        <materialDesign:Card Padding="30" Background="White" Margin="10">
            <StackPanel>
                <TextBlock Text="{Binding Post.Title}" FontSize="20" FontWeight="Bold" Margin="30 30 0 10"/>
                <TextBlock Text="{Binding Post.Content}" TextWrapping="Wrap" FontSize="14" Margin="30 30 0 0"/>

                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,10,0,0">
                    <!-- 수정 버튼 -->
                    <Button Content="수정"
            Width="80"
            Margin="0,0,10,0"
            Click="Edit_Click"
            Style="{StaticResource MaterialDesignOutlinedButton}">
                        <Button.Visibility>
                            <MultiBinding Converter="{StaticResource AuthorVisibilityConverter}">
                                <Binding Path="Post.Author"/>
                                <Binding Path="CurrentUser"/>
                            </MultiBinding>
                        </Button.Visibility>
                    </Button>

                    <!-- 삭제 버튼 추가 -->
                    <Button Content="삭제"
            Width="80"
            Click="Delete_Click"
            Style="{StaticResource MaterialDesignOutlinedButton}">
                        <Button.Visibility>
                            <MultiBinding Converter="{StaticResource AuthorVisibilityConverter}">
                                <Binding Path="Post.Author"/>
                                <Binding Path="CurrentUser"/>
                            </MultiBinding>
                        </Button.Visibility>
                    </Button>
                </StackPanel>




                <Button Content="뒤로가기" Click="Back_Click" Margin="0 20 0 0"
                        Style="{StaticResource MaterialDesignOutlinedButton}" Width="100"/>
            </StackPanel>
        </materialDesign:Card>
    </Grid>
</Page>
